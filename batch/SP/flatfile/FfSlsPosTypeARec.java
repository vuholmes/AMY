/** * Copyright (C) 2002 QR Retail Autotamation Sdn. Bhd. * All right reserved. * *//** * Synopsis: Flat file interface for Sales file record type A * * Written: Profit V7.0 Project Team: awkw.  2002/10/25 * * Revised: Name/ Date. *    alvinsim 2010-03-04  changed interface structure for AEONMAL *    alvinsim 2010-06-28  removed field PI_MEM_CARD which is moved to Record *                         Type B *    ryan     2012-12-04  add CDO_NO *    JoeMy    2015-01-21  GST PCR *    AlanHeng 2018-03-21 ACS E-Wallet and E-Money Member Recognition */ package qrcom.PROFIT.batch.SP.flatfile;import java.sql.SQLException;import qrcom.PROFIT.files.transform.flatfile.FlatFileBase;import qrcom.util.qrItemChk;public class FfSlsPosTypeARec extends FlatFileBase implements		java.io.Serializable, FfSlsPosIntf {	private static final String tablename = "FfSlsPosATypeARec";	/******** Matrix ********/	protected static String[][] mtxFF = {			// COL_NAME, COL_LEN, COl_TYPE			{ "PI_COMMAND", "4", STRING },			{ "PI_STORE", "4", STRING },			{ "PI_FLAGS", "2", STRING },			{ "PI_POS", "6", STRING },			{ "PI_TRANS_NO", "8", STRING },			{ "PI_FORMAT", "1", STRING },			{ "PI_PRE_BOOK_FLAG", "1", STRING }, // H007 - New field for Pre-Booking - Added by Goxz 20170803			{ "PI_ATYPE", "4", STRING },			{ "PI_SKU", "13", STRING },			{ "PI_QTY", "9,2", DOUBLE },			{ "PI_REG_SELL", "11,2", DOUBLE },			{ "PI_ACTUAL_SELL", "11,2", DOUBLE },			{ "PI_EMP_PURCH", "10", STRING },			{ "PI_LBY_FLAG", "2", STRING },			{ "PI_DISC_TYPE", "2", STRING },			{ "PI_DISC1_AMT", "11,2", DOUBLE },			{ "PI_DEPT_CLASS_NO", "6", STRING },			{ "PI_GV_FROM", "6", STRING },			{ "PI_GV_TO", "6", STRING },			{ "PI_DENOM_VAL", "6,0", INT },			{ "PI_GST_AMT", "13,4", DOUBLE },			{ "PI_FILA15", "4", STRING },			{ "PI_SLSPN", "5", STRING },			{ "PI_LBY1", "10", STRING },			{ "PI_FILA18", "2", STRING },			{ "PI_SALES_TYPE", "2", STRING },			{ "PI_FILA20", "1", STRING },			{ "PI_CASHIER_ID", "7", STRING },			{ "PI_DISC2_AMT", "11,2", DOUBLE },			{ "PI_DISC3_AMT", "11,2", DOUBLE },			{ "PI_DISC4_AMT", "11,2", DOUBLE },			{ "PI_DISC5_AMT", "11,2", DOUBLE },			{ "PI_DISC6_AMT", "11,2", DOUBLE },			{ "PI_DISC7_AMT", "11,2", DOUBLE },			{ "PI_DISC8_AMT", "11,2", DOUBLE },			{ "PI_DISC9_AMT", "11,2", DOUBLE },			{ "PI_DISC10_AMT", "11,2", DOUBLE },			{ "PI_DISC11_AMT", "11,2", DOUBLE },			{ "PI_PRCCHG_NO", "10", STRING },			{ "PI_PRCCHG1_NO", "10", STRING },			{ "PI_PRCCHG2_NO", "10", STRING },			{ "PI_PRCCHG3_NO", "10", STRING },			// {"PI_MEM_CARD", "20", STRING},			{ "PI_PRVILEGE_MEM", "1", STRING },			{ "PI_OVER_WRITE", "1", STRING },			// Ryan AU-SD002981732 2012-11-29			{ "PI_CDO_NO", "12", STRING },			// JoeMy 2015-01-16 GST PCR			{ "PI_TAX_CODE", "5", STRING }, // A040 added by JoeMy 2015-01-21 GST PCR			// Derek 2015-06-23 Tax Relief function AMY			{ "PI_ORG_GST_RATE", "4", STRING },			{ "PI_RS_AMT", "11,2", DOUBLE },			{ "PI_ORG_GST_CODE", "5", STRING },			// Goxz 2017-02-16 AMY PCR – SRAM046010 Mommy Card Implementation - Start			{ "PI_DISC12_AMT", "11,2", DOUBLE },			{ "PI_DISC13_AMT", "11,2", DOUBLE },			{ "PI_DISC14_AMT", "11,2", DOUBLE },			// Goxz 2017-02-16 AMY PCR – SRAM046010 Mommy Card Implementation - End			// Goxz 20170810 SRAM071321 PWP - Start			{ "PI_DISC15_AMT", "11,2", DOUBLE },			{ "PI_DISC16_AMT", "11,2", DOUBLE },			{ "PI_DISC17_AMT", "11,2", DOUBLE },			{ "PI_DISC18_AMT", "11,2", DOUBLE },			{ "PI_DISC19_AMT", "11,2", DOUBLE },			{ "PI_DISC20_AMT", "11,2", DOUBLE },			// Goxz 20170810 SRAM071321 PWP - End			// AlanHeng ACS E-Wallet and E-Money Member Recognition 2018-03-23 - Start			{ "PI_CASHIER_NAME", "20", STRING },                        { "PI_POS_AUTHORIZED_ID", "7", STRING },                        { "PI_POS_AUTHORIZED_NAME", "20", STRING },                        { "PI_PRCCHG4_NO", "10", STRING },                        { "PI_PRCCHG5_NO", "10", STRING },                        { "PI_SALES_TAX_AMT", "11,2", DOUBLE }                        // AlanHeng ACS E-Wallet and E-Money Member Recognition 2018-03-23 - End	};	public FfSlsPosTypeARec() {		super(mtxFF);	} // Constructor	public String TableName() {		return (tablename);	} // TableName	public double getDouble(String idxName) throws SQLException {		return (super.getDouble(idxName));	} // getDouble	public void insertToDB() {	} // insertToDB	public String getString(String idxName) throws SQLException {		if (idxName.equals("PI_SKU")) {			return (getSku());		} else {			return (super.getString(idxName));		}	}	private String getSku() throws SQLException {		// PI_SALES_TYPE 01 - barcode, 02 -sku		String PI_SALES_TYPE = super.getString("PI_SALES_TYPE");		String PI_SKU = super.getString("PI_SKU");		String item_code = null;		if (PI_SALES_TYPE.equals("02")) {			if (PI_SKU.length() == 13) {				item_code = PI_SKU.substring(5, 13);			} else {				item_code = PI_SKU;			}		} else {			item_code = PI_SKU + qrItemChk.checkDigit("I", PI_SKU);		}		return (item_code);	} // getSku}